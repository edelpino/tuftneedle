I"O(function() {
  var addCartItems;

  $(function() {
    $("input:radio").change(function() {
      var dimensions, price;
      if ($(this).prop("checked", true)) {
        price = "<b>" + ($(this).data('price')) + "</b>";
        dimensions = "<b>" + ($(this).data('dimensions')) + "</b>";
        return $("#product_details").html(price + "<br/>" + dimensions);
      }
    });
    return $("#add_to_cart").click(function(e) {
      var $form, $hidden_input, $input, $label, product_id;
      e.preventDefault();
      $input = $("input:radio:checked");
      $label = $("label[for='" + ($input.attr("id")) + "']");
      $form = $('#new_order');
      product_id = $input.val();
      $hidden_input = "<input type='hidden' name='" + ($input.attr('name')) + "' value='" + product_id + "' />";
      $form.prepend($hidden_input);
      addCartItems(product_id, $label);
      return $.each($form.find("input:hidden"), function(index, value) {
        return $(this).attr('name', $(this).attr('name').replace(/\d+/g, index));
      });
    });
  });

  addCartItems = function(product_id, label) {
    var count, duplicateLi, price;
    duplicateLi = $("[productId='" + product_id + "'");
    if (duplicateLi.length > 0) {
      count = $("input:hidden[value='" + product_id + "']").length;
      price = parseFloat(label.attr("cost")) * count;
      return duplicateLi.text("(" + count + ") " + (label.attr('name')) + "$ " + (price.toFixed(2)) + " ");
    } else {
      return $("#cart").append("<li productId='" + product_id + "' class='list-group-item'>" + (label.text()) + "</li>");
    }
  };

}).call(this);
:ET